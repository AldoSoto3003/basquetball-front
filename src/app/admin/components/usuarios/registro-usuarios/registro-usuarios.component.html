<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
  Agregar usuario  
</button>

<div class="modal fade bd-example-modal-lg" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <div class="modal-body">
              <form action="" [formGroup]="nuevoForm" (ngSubmit)="postForm(nuevoForm)">
                <div class="mb-3">
                  <img id="profile-photo" class="rounded-circle shadow-4-strong" alt="" width="200" height="200" [src]="imageURL" />
                  <label for="exampleFormControlFile1">Subir fotografia</label>
                  <input class="form-control" type="file" id="formFile" accept="image/*" formControlName="image" (change)="onFileChanged($event )" >
                </div>
                  <div class="form-group row">
                      <div class="col">
                          <label for="">Nombre</label>
                          <input type="text" class="form-control" placeholder="Nombres" formControlName="Nombres">
                      </div>
                      <div class="col">
                        <label for="">Apellido1</label>
                        <input type="text" class="form-control" placeholder="ApellidoPaterno" formControlName="ApellidoPaterno">
                      </div>
                      <div class="col">
                        <label for="">Apellido2</label>
                        <input type="text" class="form-control" placeholder="ApellidoMaterno" formControlName="ApellidoMaterno">
                      </div>
                  </div>
                  <div class="form-group row">
                    <div class="col">
                      <label for="">Email</label>
                      <input type="text" class="form-control" placeholder="email" formControlName="email" [class.is-invalid] = 'emailNoValido'>
                      <small *ngIf="emailNoValido" class="text-danger">Campo requerido, debe coincidir con un formato email</small>
                    </div>
                  
                    <div class="col">
                     <label for="">Contrase√±a</label>
                     <input type="password" class="form-control" placeholder="password" formControlName="password" [class.is-invalid] = 'passwordNoValido'>
                     <small *ngIf="passwordNoValido" class="text-danger">Campo requerido, de 8 a 16 caracteres,con mayusculas, minusculas y numeros</small>
                    </div>

                    <div class="col">
                      <label for="">Domicilio</label>
                      <input type="text" class="form-control" placeholder="Domicilio" formControlName="Domicilio" [class.is-invalid] = 'DomicilioNoValido'>
                    </div>
                  </div>
                  <div class="form-group row">
                    <div class="col">
                      <label for="">Fecha de nacimiento</label>
                      <input type="date" class="form-control" placeholder="2000-01-01" formControlName="Fecha_Nacimiento" [class.is-invalid] = 'fechaNoValido'>
                    </div>
                    <div class="col">
                      <label class="form-label">Rol</label>
                      <select class="form-select" required formControlName="Id_Rol">
                        <option selected disabled value="">Elige...</option>
                        <option *ngFor="let rol of roles" [ngValue]="rol.Id_Rol"> {{ rol.name }} </option>
                      </select>
                    </div>
                  </div>
                  <div class="form-group row">
                    <div class="col">
                      <label for="">CP</label>
                      <input type="text" class="form-control" placeholder="CP" formControlName="CP" [(ngModel)]="codigo_postal_para_obtener_asentamientos" (change)="obtenerAsentamientos()" [class.is-invalid]="cpNoValido">
                      <small *ngIf="cpNoValido" class="text-danger">Campo requerido</small>
                    </div>
                    
                    <div class="col">
                      <label class="form-label">Colonia</label>
                      <select class="form-select" required formControlName="id_asenta">
                        <option selected disabled value="">Elige...</option>
                        <option *ngFor="let codigo of codigo_postal" [ngValue]="codigo.id_asenta_cp_cpcons"> {{ codigo.d_tipo_asenta }} {{ codigo.d_asenta }}</option>
                      </select>
                    </div>

                  </div>
                  <div class="form-group row">
                    <div class="col">
                      <label for="">CURP</label>
                      <input type="text" class="form-control" placeholder="curp" formControlName="curp" [class.is-invalid]="curpNoValido">
                      <small *ngIf="curpNoValido" class="text-danger">Campo requerido con el formato correspondiente</small>
                    </div>
                    <div class="col">
                          <label for="">Telefono</label>
                          <input type="text" class="form-control" placeholder="Telefono" formControlName="telefono" [class.is-invalid]="telefonoNoValido">
                          <small *ngIf="telefonoNoValido" class="text-danger">Campo requerido, 10 digitos</small>
                    </div>
                  </div>

                  <div class="form-group row">
                    <div class="col">
                      <label class="form-label">Genero</label>
                      <select class="form-select" required formControlName="Id_Genero">
                        <option selected disabled value="">Elige...</option>
                        <option *ngFor="let genero of generos" [ngValue]="genero.ID_Genero"> {{ genero.Descripcion }} </option>
                      </select>
                    </div>

                    <div class="col">
                      <label for="">Numero de SS</label>
                      <input type="text" class="form-control" placeholder="Numero de SS" formControlName="numSS" [class.is-invalid] = 'numSSNoValido'>
                      <small *ngIf="numSSNoValido" class="text-danger">Campo requerido, 11 digitos</small>
                    </div>
                  </div>

                  <div class="col">
                    <label for="">Referencia</label>
                    <input type="text" class="form-control" placeholder="Referencia" formControlName="referencia" [class.is-invalid] = 'referenciaNoValido'>
                 </div>
                 <br><br>
              
                  <button type="submit" class="btn btn-primary">Guardar</button>
                  <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="onSalir()">Salir</button>
              </form>
      </div>
    </div>
  </div>
</div>